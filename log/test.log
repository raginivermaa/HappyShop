  [1m[35m (123.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "appHappyshop_test"[0m
  [1m[35m (350.3ms)[0m  [1m[35mCREATE DATABASE "appHappyshop_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.8ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "categories" CASCADE[0m
  [1m[35m (17.5ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "parent_id" integer, "label" character varying, "slug_url" character varying, "state" character varying)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_categories_on_parent_id" ON "categories"  ("parent_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "friendly_id_slugs" CASCADE[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "friendly_id_slugs" ("id" bigserial primary key, "slug" character varying NOT NULL, "sluggable_id" integer NOT NULL, "sluggable_type" character varying(50), "scope" character varying, "created_at" timestamp)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_friendly_id_slugs_on_slug_and_sluggable_type_and_scope" ON "friendly_id_slugs"  ("slug", "sluggable_type", "scope")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_friendly_id_slugs_on_slug_and_sluggable_type" ON "friendly_id_slugs"  ("slug", "sluggable_type")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_friendly_id_slugs_on_sluggable_id" ON "friendly_id_slugs"  ("sluggable_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_friendly_id_slugs_on_sluggable_type" ON "friendly_id_slugs"  ("sluggable_type")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "products" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "category_id" bigint, "name" character varying, "slug_url" character varying, "description" character varying, "state" character varying)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_products_on_category_id" ON "products"  ("category_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "variants" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "variants" ("id" bigserial primary key, "product_id" bigint, "name" character varying, "sold_out" boolean, "under_sale" boolean, "price" integer, "sale_price" integer, "sale_text" character varying)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_variants_on_product_id" ON "variants"  ("product_id")[0m
  [1m[35m (5.3ms)[0m  [1m[35mALTER TABLE "categories" ADD CONSTRAINT "fk_rails_82f48f7407"
FOREIGN KEY ("parent_id")
  REFERENCES "categories" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "products" ADD CONSTRAINT "fk_rails_fb915499a4"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "variants" ADD CONSTRAINT "fk_rails_19f8efee69"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20180511041924)[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20180510082427),
(20180510082428),
(20180510082433);

[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2018-05-16 07:13:58.206746"], ["updated_at", "2018-05-16 07:13:58.206746"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (2.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "published"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "published"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (1.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "published"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "published"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.7ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "published"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (1.1ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "published"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (5.6ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (5.8ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 7], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (4.7ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 1], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 8], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 2], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 9], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.3ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 3], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 500]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.7ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 10], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (1.2ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 4], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 11], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 12], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (1.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 6], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 13], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 14], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 8], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 15], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 16], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 10], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 17], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.9ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 18], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 12], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 19], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 20], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 14], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 21], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.7ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (1.0ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 22], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.8ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 16], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 23], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 24], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 18], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 25], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 26], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 20], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 27], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (1.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 28], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (2.0ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 22], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 29], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 30], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 24], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 31], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (1.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 32], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 26], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 33], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 34], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 28], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 35], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 36], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 30], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 37], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 38], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 32], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 39], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 40], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 34], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 41], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 42], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 36], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 43], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 44], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 38], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 45], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 46], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 40], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 47], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (1.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 48], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 42], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 49], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (1.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 50], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.7ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 44], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (1.0ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 51], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 52], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (1.3ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 46], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 53], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 54], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 48], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 55], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (1.0ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (2.0ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 56], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 50], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 57], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 58], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 52], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 59], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 60], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 54], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 61], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title", "state"=>"published"}, "id"=>"62"}
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "62"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 62], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering categories/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered categories/edit.html.erb within layouts/application (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 32ms (Views: 17.9ms | ActiveRecord: 1.9ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title", "state"=>"public"}, "id"=>"63"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "63"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 63], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (2.6ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 63]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 65ms (ActiveRecord: 3.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (2.0ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title", "state"=>"public"}, "id"=>"64"}
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "64"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 64], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.4ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 64]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 90ms (ActiveRecord: 2.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title", "state"=>"public"}, "id"=>"65"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "65"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 65], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 65]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 60ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.7ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title", "state"=>"public"}, "id"=>"67"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "67"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 67]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 62ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 68], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 56], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 69], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (1.1ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title", "state"=>"public"}, "id"=>"71"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "71"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 71], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 71]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 56ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 72], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 58], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.7ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 73], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title", "state"=>"public"}, "id"=>"75"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "75"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 75]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 55ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 76], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (2.1ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 60], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 77], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title", "state"=>"public"}, "id"=>"79"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "79"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 79], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.4ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 79]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 58ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 80], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.8ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 62], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 81], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title", "state"=>"public"}, "id"=>"83"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "83"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 83], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 83]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 56ms (ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 84], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 64], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 85], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title", "state"=>"public"}, "id"=>"87"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "87"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 87], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 87]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 60ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 88], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 66], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 89], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.9ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title", "state"=>"public"}, "id"=>"90"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "90"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 90], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.4ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 90]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 66ms (ActiveRecord: 1.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (1.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title", "state"=>"public"}, "id"=>"92"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "92"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 92], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 92]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 56ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 93], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 68], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 94], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title", "state"=>"public"}, "id"=>"96"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "96"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 96], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.4ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 96]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 60ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.9ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 97], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 70], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 98], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title", "state"=>"public"}, "id"=>"100"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "100"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 57ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 101], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.7ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 72], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 102], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title", "state"=>"public"}, "id"=>"104"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "104"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 104], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 104]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 59ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (1.9ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 105], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 74], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.7ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 106], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.4ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 107]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"108"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "108"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 108], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.4ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 108]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 65ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (1.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"110"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "110"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 110], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.4ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 110]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 57ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 111], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (1.3ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 76], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 112], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"114"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "114"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 114], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 114]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 57ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 115], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (1.1ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 78], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 116], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"118"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "118"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 118], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.4ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 118]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 57ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 119], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 80], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 120], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"122"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "122"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 122], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 122]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 61ms (ActiveRecord: 1.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (2.1ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 123], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 82], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 124], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"126"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "126"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 126], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 126]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 56ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 127], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 84], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 128], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"130"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "130"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 130]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 57ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 131], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 86], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 132], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"134"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "134"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 134], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.5ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 134]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 62ms (ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 135], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 88], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 136], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"138"}
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "138"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 138], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 138]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 63ms (ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 139], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.7ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 90], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 140], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.8ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"142"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "142"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 142], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 142]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 62ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 143], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 92], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 144], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"146"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "146"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 146], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.4ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 146]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 60ms (ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 147], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 94], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 148], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"150"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "150"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 150], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 150]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 54ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (2.0ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 151], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 152], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"97"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "97"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 97], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 152], ["LIMIT", 1]]
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 97]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 41ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 153], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (2.4ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 98], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 154], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"156"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "156"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 156], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 156]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 59ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 157], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 158], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"101"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "101"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 158], ["LIMIT", 1]]
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 101]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 39ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 159], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.7ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 102], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 160], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"162"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "162"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 162], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 162]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 57ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 163], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 164], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"105"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "105"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 105], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 164], ["LIMIT", 1]]
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 105]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 37ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 165], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 106], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 166], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"168"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "168"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 168], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 168]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 57ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 169], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (1.0ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 170], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"109"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "109"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 109], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 170], ["LIMIT", 1]]
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 109]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 43ms (ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 171], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 110], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 172], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.3ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 111], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 173], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"175"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "175"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 175], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 175]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 61ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 176], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 177], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"114"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "114"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 114], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 177], ["LIMIT", 1]]
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 114]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 41ms (ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 178], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 115], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 179], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.3ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 116], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"56"}
  [1m[36mVariant Load (0.3ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 56], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 116], ["LIMIT", 1]]
  [1m[36mVariant Update (0.4ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 56]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 38ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 180], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.3ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 117], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 181], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (1.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"183"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "183"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 183], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 183]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 62ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 184], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 185], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"120"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "120"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 120], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 185], ["LIMIT", 1]]
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 120]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 42ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 186], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 121], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"58"}
  [1m[36mVariant Load (0.3ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 58], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 121], ["LIMIT", 1]]
  [1m[36mVariant Update (0.7ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 58]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 39ms (ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 187], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.4ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 122], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 188], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"190"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "190"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 190], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 190]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 62ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 191], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 192], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"125"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "125"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (1.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 192], ["LIMIT", 1]]
  [1m[36mProduct Update (0.6ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 125]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 45ms (ActiveRecord: 2.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 193], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 126], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 194], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.4ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 127], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"61"}
  [1m[36mVariant Load (0.3ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 61], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  [1m[36mVariant Update (0.4ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 61]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 38ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 195], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.4ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 128], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 196], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"198"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "198"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 198], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 198]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 61ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 199], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 200], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"131"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "131"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 131], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 131]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 40ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 201], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 132], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"63"}
  [1m[36mVariant Load (0.3ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 63], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 132], ["LIMIT", 1]]
  [1m[36mVariant Update (0.3ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 63]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 36ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 202], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.3ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 133], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 203], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"205"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "205"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 205], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.4ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 205]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 60ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 206], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 207], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"136"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "136"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 136], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 207], ["LIMIT", 1]]
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 136]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 44ms (ActiveRecord: 1.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 208], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 137], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"65"}
  [1m[36mVariant Load (0.3ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 65], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 137], ["LIMIT", 1]]
  [1m[36mVariant Update (0.3ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 65]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 37ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 209], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.3ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 138], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 210], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"212"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "212"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 212], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 212]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 62ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 213], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 214], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"141"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "141"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 141], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 214], ["LIMIT", 1]]
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 141]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 39ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 215], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 142], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"67"}
  [1m[36mVariant Load (0.3ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 142], ["LIMIT", 1]]
  [1m[36mVariant Update (0.3ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 67]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 36ms (ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 216], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.3ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 143], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 217], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"219"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "219"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 219], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 219]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 58ms (ActiveRecord: 1.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 220], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 221], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"146"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "146"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 146], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 221], ["LIMIT", 1]]
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 146]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 40ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 222], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 147], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"69"}
  [1m[36mVariant Load (0.3ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 69], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 147], ["LIMIT", 1]]
  [1m[36mVariant Update (0.4ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 69]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 40ms (ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 223], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.3ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 148], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 224], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"226"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "226"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 226], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.4ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 226]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 77ms (ActiveRecord: 1.3ms)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.9ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 227], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.7ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 228], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"151"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "151"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 151], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (2.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 228], ["LIMIT", 1]]
  [1m[36mProduct Update (0.7ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 151]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 74ms (ActiveRecord: 4.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 229], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 152], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"71"}
  [1m[36mVariant Load (0.4ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 71], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 152], ["LIMIT", 1]]
  [1m[36mVariant Update (0.4ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 71]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 51ms (ActiveRecord: 1.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 230], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.4ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 153], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 231], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (2.0ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"233"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "233"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 233], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.4ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 233]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 65ms (ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (1.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 234], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 235], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"156"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "156"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 156], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 235], ["LIMIT", 1]]
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 156]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 43ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 236], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 157], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"73"}
  [1m[36mVariant Load (0.3ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 157], ["LIMIT", 1]]
  [1m[36mVariant Update (0.3ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 73]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 37ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 237], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.3ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 158], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 238], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.7ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"240"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "240"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 240], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 240]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 61ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 241], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 242], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"161"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "161"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 161], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 242], ["LIMIT", 1]]
  [1m[36mProduct Update (1.1ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 161]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 42ms (ActiveRecord: 2.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 243], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 162], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"75"}
  [1m[36mVariant Load (0.3ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 162], ["LIMIT", 1]]
  [1m[36mVariant Update (0.3ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 75]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 39ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 244], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.3ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 163], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 245], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"247"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "247"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 247], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 247]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 58ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (2.4ms)[0m  [1m[32mINSERT INTO "categories" ("parent_id", "label", "slug_url", "state") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["parent_id", 1], ["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 249], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 250], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"166"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "166"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 166], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 250], ["LIMIT", 1]]
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 166]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 51ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 251], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 167], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"77"}
  [1m[36mVariant Load (0.5ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 77], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 167], ["LIMIT", 1]]
  [1m[36mVariant Update (0.3ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 77]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 40ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 252], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.3ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 168], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 253], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"255"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "255"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 255], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 255]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 56ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 257], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 258], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"171"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "171"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 171], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 258], ["LIMIT", 1]]
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 171]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 41ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 259], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 172], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"79"}
  [1m[36mVariant Load (0.3ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 79], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 172], ["LIMIT", 1]]
  [1m[36mVariant Update (0.3ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 79]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 38ms (ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 260], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.3ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 173], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 261], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (1.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"263"}
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "263"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 263], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.4ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 263]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 61ms (ActiveRecord: 1.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 265], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 266], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"176"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "176"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 176], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 266], ["LIMIT", 1]]
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 176]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 43ms (ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 267], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 177], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"81"}
  [1m[36mVariant Load (0.3ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 81], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 177], ["LIMIT", 1]]
  [1m[36mVariant Update (0.4ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 81]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 39ms (ActiveRecord: 1.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 268], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.4ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 178], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 269], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"271"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "271"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 271], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 271]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 58ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 273], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 274], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"181"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "181"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 181], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 274], ["LIMIT", 1]]
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 181]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 40ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 275], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.9ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 182], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"83"}
  [1m[36mVariant Load (0.4ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 83], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 182], ["LIMIT", 1]]
  [1m[36mVariant Update (0.3ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 83]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 40ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 276], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.4ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 183], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 277], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"279"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "279"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 279], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 279]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 61ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 281], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 282], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"186"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "186"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 186], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 282], ["LIMIT", 1]]
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 186]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 38ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 283], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 187], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"85"}
  [1m[36mVariant Load (0.2ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 187], ["LIMIT", 1]]
  [1m[36mVariant Update (0.6ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 85]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 37ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 284], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.4ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 188], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 285], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"287"}
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "287"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 287], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 287]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 59ms (ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 288], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 289], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"191"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "191"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 191], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 289], ["LIMIT", 1]]
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 191]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 41ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 290], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 192], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"87"}
  [1m[36mVariant Load (0.5ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 87], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 192], ["LIMIT", 1]]
  [1m[36mVariant Update (0.3ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 87]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 39ms (ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 291], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.3ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 193], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 292], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat", "state"=>"public"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat
Completed 302 Found in 99ms (ActiveRecord: 3.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat", "state"=>"public"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat
Completed 302 Found in 106ms (ActiveRecord: 3.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"296"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "296"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 296], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.4ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 296]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 56ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat", "state"=>"public"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat", "state"=>"public"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 301], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 302], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"196"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "196"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 196], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 302], ["LIMIT", 1]]
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 196]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 43ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 303], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 197], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"89"}
  [1m[36mVariant Load (0.3ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 89], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 197], ["LIMIT", 1]]
  [1m[36mVariant Update (0.3ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 89]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 36ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 304], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.3ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 198], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 305], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"307"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "307"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 307], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.4ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 307]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 59ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat", "state"=>"public"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat", "state"=>"public"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 310], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 311], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"201"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "201"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 311], ["LIMIT", 1]]
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 201]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 41ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 312], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 202], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"91"}
  [1m[36mVariant Load (0.3ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 91], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 202], ["LIMIT", 1]]
  [1m[36mVariant Update (0.5ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 91]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 36ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 313], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.3ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 203], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 314], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"316"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "316"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 316], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.4ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 316]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 63ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat", "state"=>"public"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 319], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 320], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"206"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "206"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 206], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 320], ["LIMIT", 1]]
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 206]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 43ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 321], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 207], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"93"}
  [1m[36mVariant Load (0.3ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 93], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 207], ["LIMIT", 1]]
  [1m[36mVariant Update (0.3ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 93]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 36ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
Processing by VariantsController#create as HTML
  Parameters: {"variant"=>{"name"=>"Var", "price"=>"1000", "product"=>"Prod", "sale_price"=>"800", "sale_text"=>"new sale", "sold_out"=>"true", "under_sale"=>"true"}}
Unpermitted parameter: :product
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering variants/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered variants/new.html.erb within layouts/application (0.3ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 13ms (Views: 11.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by VariantsController#create as HTML
  Parameters: {"variant"=>{"name"=>"Var", "price"=>"1000", "product"=>"Prod", "sale_price"=>"800", "sale_text"=>"new sale", "sold_out"=>"true", "under_sale"=>"true"}}
Unpermitted parameter: :product
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering variants/new.html.erb within layouts/application
  Rendered variants/new.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[36mVariant Load (0.2ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" ORDER BY "variants"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 322], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.3ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 208], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 323], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"325"}
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "325"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 325], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 325]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 61ms (ActiveRecord: 1.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 328], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 329], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"211"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "211"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 211], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 329], ["LIMIT", 1]]
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 211]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 45ms (ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 330], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 212], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"95"}
  [1m[36mVariant Load (0.3ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 95], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 212], ["LIMIT", 1]]
  [1m[36mVariant Update (0.5ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 95]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 37ms (ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
Processing by VariantsController#create as HTML
  Parameters: {"variant"=>{"name"=>"Var", "price"=>"1000", "product"=>"Prod", "sale_price"=>"800", "sale_text"=>"new sale", "sold_out"=>"true", "under_sale"=>"true"}}
Unpermitted parameter: :product
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering variants/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered variants/new.html.erb within layouts/application (0.2ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by VariantsController#create as HTML
  Parameters: {"variant"=>{"name"=>"Var", "price"=>"1000", "product"=>"Prod", "sale_price"=>"800", "sale_text"=>"new sale", "sold_out"=>"true", "under_sale"=>"true"}}
Unpermitted parameter: :product
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering variants/new.html.erb within layouts/application
  Rendered variants/new.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[36mVariant Load (0.2ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" ORDER BY "variants"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 331], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.3ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 213], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (1.1ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 332], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"334"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "334"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 334], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 334]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 60ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat", "state"=>"public"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 337], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 338], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"216"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "216"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 216], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 338], ["LIMIT", 1]]
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 216]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 37ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 339], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 217], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"97"}
  [1m[36mVariant Load (0.3ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 97], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 217], ["LIMIT", 1]]
  [1m[36mVariant Update (0.3ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 97]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 39ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
Processing by VariantsController#create as HTML
  Parameters: {"variant"=>{"name"=>"Var", "price"=>"1000", "product"=>"Prod", "sale_price"=>"800", "sale_text"=>"new sale", "sold_out"=>"true", "under_sale"=>"true"}}
Unpermitted parameter: :product
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering variants/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered variants/new.html.erb within layouts/application (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 13ms (Views: 11.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by VariantsController#create as HTML
  Parameters: {"variant"=>{"name"=>"Var", "price"=>"1000", "product"=>"Prod", "sale_price"=>"800", "sale_text"=>"new sale", "sold_out"=>"true", "under_sale"=>"true"}}
Unpermitted parameter: :product
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering variants/new.html.erb within layouts/application
  Rendered variants/new.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[36mVariant Load (0.2ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" ORDER BY "variants"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 340], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (2.0ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 218], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 341], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"343"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "343"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 343], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.4ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 343]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 57ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (1.2ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 344], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 345], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"221"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "221"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 221], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 345], ["LIMIT", 1]]
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 221]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 40ms (ActiveRecord: 1.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 346], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 222], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"99"}
  [1m[36mVariant Load (0.3ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 222], ["LIMIT", 1]]
  [1m[36mVariant Update (0.3ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 99]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 35ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 347], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.3ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 223], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 348], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "factorybot-declaration-implicit-0x007fb52c983af8"], ["LIMIT", 1]]
  [1m[36mProduct Create (4.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "#<FactoryBot::Declaration::Implicit:0x007fb52c983af8>"], ["slug_url", "factorybot-declaration-implicit-0x007fb52c983af8"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"350"}
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "350"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 350], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (1.5ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 350]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 62ms (ActiveRecord: 2.7ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat1", "state"=>"public"}}
  [1m[35m (1.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat1"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat1"], ["slug_url", "cat1"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat1
Completed 302 Found in 7ms (ActiveRecord: 3.2ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat2", "state"=>"public"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat2"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat2"], ["slug_url", "cat2"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat2
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (1.6ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 353], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 354], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"227"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "227"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 227], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 354], ["LIMIT", 1]]
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 227]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 46ms (ActiveRecord: 1.4ms)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (1.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 355], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (2.0ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 228], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"101"}
  [1m[36mVariant Load (0.6ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 228], ["LIMIT", 1]]
  [1m[36mVariant Update (0.4ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 101]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 50ms (ActiveRecord: 1.7ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 356], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (1.0ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 229], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 357], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "factorybot-declaration-implicit-0x007fd6a9fc4ef0"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "#<FactoryBot::Declaration::Implicit:0x007fd6a9fc4ef0>"], ["slug_url", "factorybot-declaration-implicit-0x007fd6a9fc4ef0"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"359"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "359"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 359], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 359]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 54ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat1", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat1"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat1"], ["slug_url", "cat1"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat1
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat2", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat2"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat2"], ["slug_url", "cat2"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat2
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 362], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 363], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"233"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "233"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 233], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 363], ["LIMIT", 1]]
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 233]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 37ms (ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 364], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 234], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"103"}
  [1m[36mVariant Load (0.3ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mVariant Update (0.3ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 103]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 36ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 365], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.3ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 235], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 366], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "factorybot-declaration-implicit-0x007fef16d70278"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "#<FactoryBot::Declaration::Implicit:0x007fef16d70278>"], ["slug_url", "factorybot-declaration-implicit-0x007fef16d70278"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"368"}
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "368"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 368], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.5ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 368]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 64ms (ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat1", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat1"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat1"], ["slug_url", "cat1"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat1
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat2", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat2"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat2"], ["slug_url", "cat2"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat2
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 371], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 372], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"239"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "239"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 239], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 372], ["LIMIT", 1]]
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 239]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 41ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 373], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 240], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"105"}
  [1m[36mVariant Load (0.3ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 105], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 240], ["LIMIT", 1]]
  [1m[36mVariant Update (0.3ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 105]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 37ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 374], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.3ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 241], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 375], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "factorybot-declaration-implicit-0x007f944fdbe0d0"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "#<FactoryBot::Declaration::Implicit:0x007f944fdbe0d0>"], ["slug_url", "factorybot-declaration-implicit-0x007f944fdbe0d0"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"377"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "377"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 377], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 377]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 57ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat1", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat1"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat1"], ["slug_url", "cat1"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat1
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat2", "state"=>"public"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat2"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat2"], ["slug_url", "cat2"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat2
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 380], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 381], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"245"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "245"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 245], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 381], ["LIMIT", 1]]
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 245]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 38ms (ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 382], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 246], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"107"}
  [1m[36mVariant Load (0.3ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 107], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 246], ["LIMIT", 1]]
  [1m[36mVariant Update (0.3ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 107]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 36ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 383], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.3ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 247], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 384], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "factorybot-declaration-implicit-0x007ff92c801060"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "#<FactoryBot::Declaration::Implicit:0x007ff92c801060>"], ["slug_url", "factorybot-declaration-implicit-0x007ff92c801060"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"386"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "386"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 386], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 386]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 55ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat1", "state"=>"public"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat1"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat1"], ["slug_url", "cat1"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat1
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat2", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat2"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat2"], ["slug_url", "cat2"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat2
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 389], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 390], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"251"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "251"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 251], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 390], ["LIMIT", 1]]
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 251]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 39ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 391], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 252], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 392], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "factorybot-declaration-implicit-0x007f9c104e87f8"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "#<FactoryBot::Declaration::Implicit:0x007f9c104e87f8>"], ["slug_url", "factorybot-declaration-implicit-0x007f9c104e87f8"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"394"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "394"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 394], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 394]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 57ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat1", "state"=>"public"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat1"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat1"], ["slug_url", "cat1"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat1
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat2", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat2"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat2"], ["slug_url", "cat2"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat2
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 397], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 398], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"256"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "256"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 256], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 398], ["LIMIT", 1]]
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 256]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 41ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 399], ["name", "Prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 257], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"110"}
  [1m[36mVariant Load (0.4ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 110], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 257], ["LIMIT", 1]]
  [1m[36mVariant Update (0.3ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 110]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 38ms (ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 400], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.4ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 258], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 401], ["name", "Prod"], ["slug_url", "prod"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "prod"], ["slug_url", "prod"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"403"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "403"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 403], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 403]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 67ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat1", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat1"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat1"], ["slug_url", "cat1"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat1
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat2", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat2"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat2"], ["slug_url", "cat2"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat2
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 406], ["name", "Prod"], ["slug_url", "prod-bc6edfe8-0833-468e-aa0a-56dbce12c76c"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 407], ["name", "Prod"], ["slug_url", "prod-06ffebec-6b9a-4ad1-b871-018c618315e9"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"262"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "262"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 262], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 407], ["LIMIT", 1]]
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 262]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 44ms (ActiveRecord: 1.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 408], ["name", "Prod"], ["slug_url", "prod-acaaed47-2d18-467a-8999-603a455dd691"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 263], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"112"}
  [1m[36mVariant Load (0.3ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 112], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 263], ["LIMIT", 1]]
  [1m[36mVariant Update (0.4ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 112]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 46ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
Processing by VariantsController#create as HTML
  Parameters: {"variant"=>{"name"=>"Var1", "price"=>"1000", "product"=>"prod", "sale_price"=>"800", "sale_text"=>"new sale", "sold_out"=>"true", "under_sale"=>"true"}}
Unpermitted parameter: :product
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering variants/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered variants/new.html.erb within layouts/application (0.3ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 13ms (Views: 9.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by VariantsController#create as HTML
  Parameters: {"variant"=>{"name"=>"Var2", "price"=>"1000", "product"=>"prod", "sale_price"=>"800", "sale_text"=>"new sale", "sold_out"=>"true", "under_sale"=>"true"}}
Unpermitted parameter: :product
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering variants/new.html.erb within layouts/application
  Rendered variants/new.html.erb within layouts/application (0.1ms)
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[36mVariant Load (0.2ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" ORDER BY "variants"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 409], ["name", "Prod"], ["slug_url", "prod-40cfced5-50c2-4664-9a3d-c2a597f4eb02"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.3ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 264], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 410], ["name", "Prod"], ["slug_url", "prod-b9d43368-b5c4-4e56-8edd-bd42cbb4af98"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "productx"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "productx"], ["slug_url", "productx"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"412"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "412"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 412], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.4ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 412]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 71ms (ActiveRecord: 1.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat1", "state"=>"public"}}
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat1"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat1"], ["slug_url", "cat1"], ["state", "public"]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat1
Completed 302 Found in 11ms (ActiveRecord: 2.0ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat2", "state"=>"public"}}
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat2"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.7ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat2"], ["slug_url", "cat2"], ["state", "public"]]
  [1m[35m (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat2
Completed 302 Found in 10ms (ActiveRecord: 2.5ms)
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (1.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 415], ["name", "Prod"], ["slug_url", "prod-5fa32846-f7a0-4a23-80fd-0c03bf66a28d"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.8ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 416], ["name", "Prod"], ["slug_url", "prod-f9d3cc1d-164c-4379-80a3-2fefdb3031b0"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"268"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "268"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 268], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 416], ["LIMIT", 1]]
  [1m[36mProduct Update (0.9ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 268]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 46ms (ActiveRecord: 2.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (1.1ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 417], ["name", "Prod"], ["slug_url", "prod-f1d8bacc-b4bc-4dd7-9ba3-7893559ed074"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 269], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"114"}
  [1m[36mVariant Load (0.3ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 114], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 269], ["LIMIT", 1]]
  [1m[36mVariant Update (0.3ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 114]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 43ms (ActiveRecord: 1.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
Processing by VariantsController#create as HTML
  Parameters: {"variant"=>{"name"=>"Var1", "price"=>"1000", "product"=>"productx", "sale_price"=>"800", "sale_text"=>"new sale", "sold_out"=>"true", "under_sale"=>"true"}}
Unpermitted parameter: :product
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering variants/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered variants/new.html.erb within layouts/application (0.3ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 10ms (Views: 7.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by VariantsController#create as HTML
  Parameters: {"variant"=>{"name"=>"Var2", "price"=>"1000", "product"=>"productx", "sale_price"=>"800", "sale_text"=>"new sale", "sold_out"=>"true", "under_sale"=>"true"}}
Unpermitted parameter: :product
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering variants/new.html.erb within layouts/application
  Rendered variants/new.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[36mVariant Load (0.2ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" ORDER BY "variants"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.9ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 418], ["name", "Prod"], ["slug_url", "prod-9eb692e4-0144-4d14-b4d0-90d2e4158a5b"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.7ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 270], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 419], ["name", "Prod"], ["slug_url", "prod-309828b8-45d5-4c6e-aa80-14be1569b188"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "productx"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "productx"], ["slug_url", "productx-cece6b6e-093e-4765-b6aa-d8701876217d"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"421"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "421"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 421], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 421]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 59ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat1", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat1"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat1"], ["slug_url", "cat1"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat1
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat2", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat2"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat2"], ["slug_url", "cat2"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat2
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 424], ["name", "Prod"], ["slug_url", "prod-3ca1f40c-3317-41a3-8478-4f6d07fcdab6"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 425], ["name", "Prod"], ["slug_url", "prod-28b33eb7-7fe6-444d-87ad-f31314fba61d"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"274"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "274"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 274], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 425], ["LIMIT", 1]]
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 274]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 43ms (ActiveRecord: 1.4ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 426], ["name", "Prod"], ["slug_url", "prod-7cb35ac9-0cb5-41b1-95d9-5fb2d43bc215"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 275], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"116"}
  [1m[36mVariant Load (0.8ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 116], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 275], ["LIMIT", 1]]
  [1m[36mVariant Update (0.6ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 116]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 39ms (ActiveRecord: 2.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
Processing by VariantsController#create as HTML
  Parameters: {"variant"=>{"name"=>"Var1", "price"=>"1000", "product"=>"productx-cece6b6e-093e-4765-b6aa-d8701876217d", "sale_price"=>"800", "sale_text"=>"new sale", "sold_out"=>"true", "under_sale"=>"true"}}
Unpermitted parameter: :product
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering variants/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered variants/new.html.erb within layouts/application (0.3ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 11ms (Views: 9.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by VariantsController#create as HTML
  Parameters: {"variant"=>{"name"=>"Var2", "price"=>"1000", "product"=>"productx-cece6b6e-093e-4765-b6aa-d8701876217d", "sale_price"=>"800", "sale_text"=>"new sale", "sold_out"=>"true", "under_sale"=>"true"}}
Unpermitted parameter: :product
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering variants/new.html.erb within layouts/application
  Rendered variants/new.html.erb within layouts/application (0.0ms)
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.5ms)
  [1m[36mVariant Load (0.2ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" ORDER BY "variants"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 427], ["name", "Prod"], ["slug_url", "prod-97bf71b7-b9d0-430e-b6e1-0f1ce76e30b2"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.8ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 276], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 428], ["name", "Prod"], ["slug_url", "prod-29fee909-bc81-46c8-9da5-efcffc027bad"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "productx"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "productx"], ["slug_url", "productx-98c121bd-22c4-4108-89d6-45b93ea5dbde"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"430"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "430"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 430], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.4ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 430]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 63ms (ActiveRecord: 1.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat1", "state"=>"public"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat1"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat1"], ["slug_url", "cat1"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat1
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat2", "state"=>"public"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat2"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat2"], ["slug_url", "cat2"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat2
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (1.0ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 433], ["name", "Prod"], ["slug_url", "prod-d39ba9fc-8076-4680-ae2d-409c8b538d40"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"279"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "279"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 279], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 433], ["LIMIT", 1]]
  [1m[36mProduct Update (0.5ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 279]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 43ms (ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 434], ["name", "Prod"], ["slug_url", "prod-03a74f03-456a-4354-b256-ed3116bc97fd"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.7ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 280], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"118"}
  [1m[36mVariant Load (0.5ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 118], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 280], ["LIMIT", 1]]
  [1m[36mVariant Update (0.4ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 118]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 38ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
Processing by VariantsController#create as HTML
  Parameters: {"variant"=>{"name"=>"Var1", "price"=>"1000", "product"=>"productx-98c121bd-22c4-4108-89d6-45b93ea5dbde", "sale_price"=>"800", "sale_text"=>"new sale", "sold_out"=>"true", "under_sale"=>"true"}}
Unpermitted parameter: :product
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering variants/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered variants/new.html.erb within layouts/application (0.3ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by VariantsController#create as HTML
  Parameters: {"variant"=>{"name"=>"Var2", "price"=>"1000", "product"=>"productx-98c121bd-22c4-4108-89d6-45b93ea5dbde", "sale_price"=>"800", "sale_text"=>"new sale", "sold_out"=>"true", "under_sale"=>"true"}}
Unpermitted parameter: :product
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering variants/new.html.erb within layouts/application
  Rendered variants/new.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.3ms)
  [1m[36mVariant Load (0.2ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" ORDER BY "variants"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 435], ["name", "Prod"], ["slug_url", "prod-37ad134f-d10f-47c7-a100-c842a3abaac8"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.4ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 281], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.9ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 436], ["name", "Prod"], ["slug_url", "prod-1c505b60-0fd3-44b4-bfef-3a4699a7ae75"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "productx"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "productx"], ["slug_url", "productx-bb389997-7d85-4d54-acb0-3fecead373de"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"438"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "438"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 438], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 438]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 57ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat1", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat1"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat1"], ["slug_url", "cat1"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat1
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat2", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat2"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat2"], ["slug_url", "cat2"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat2
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 441], ["name", "Prod"], ["slug_url", "prod-f1474586-c23a-44a5-ba51-3738e709b638"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"284"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "284"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 284], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 441], ["LIMIT", 1]]
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 284]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 40ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 442], ["name", "Prod"], ["slug_url", "prod-fe5b2e1a-7819-428a-bf58-6a7acedaa086"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.7ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 285], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"120"}
  [1m[36mVariant Load (0.2ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 120], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 285], ["LIMIT", 1]]
  [1m[36mVariant Update (0.4ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 120]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 37ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
Processing by VariantsController#create as HTML
  Parameters: {"variant"=>{"name"=>"Var1", "price"=>"1000", "product"=>"productx-bb389997-7d85-4d54-acb0-3fecead373de", "sale_price"=>"800", "sale_text"=>"new sale", "sold_out"=>"true", "under_sale"=>"true"}}
Unpermitted parameter: :product
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering variants/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered variants/new.html.erb within layouts/application (0.3ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by VariantsController#create as HTML
  Parameters: {"variant"=>{"name"=>"Var2", "price"=>"1000", "product"=>"productx-bb389997-7d85-4d54-acb0-3fecead373de", "sale_price"=>"800", "sale_text"=>"new sale", "sold_out"=>"true", "under_sale"=>"true"}}
Unpermitted parameter: :product
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering variants/new.html.erb within layouts/application
  Rendered variants/new.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[36mVariant Load (0.2ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" ORDER BY "variants"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 443], ["name", "Prod"], ["slug_url", "prod-45993013-9d18-48ff-b03f-f1745598d6b1"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.4ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 286], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 444], ["name", "Prod"], ["slug_url", "prod-0b463b80-2e89-43f6-a72a-94f79eb6bce5"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "productx"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "productx"], ["slug_url", "productx-6e870e7a-c88a-4f4c-acf4-0482d7a18635"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"446"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "446"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 446], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 446]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 56ms (ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat1", "state"=>"public"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat1"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat1"], ["slug_url", "cat1"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat1
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat2", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat2"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat2"], ["slug_url", "cat2"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat2
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 449], ["name", "Prod"], ["slug_url", "prod-acf2f4af-6535-46be-a038-12f984cf264b"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"289"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "289"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 289], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 449], ["LIMIT", 1]]
  [1m[36mProduct Update (0.7ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 289]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 41ms (ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 450], ["name", "Prod"], ["slug_url", "prod-f21eda6f-9fea-4ffc-aad1-157a25e6217c"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 290], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"122"}
  [1m[36mVariant Load (0.5ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 122], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 290], ["LIMIT", 1]]
  [1m[36mVariant Update (0.4ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 122]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 40ms (ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
Processing by VariantsController#create as HTML
  Parameters: {"variant"=>{"name"=>"Var1", "price"=>"1000", "product"=>"productx-6e870e7a-c88a-4f4c-acf4-0482d7a18635", "sale_price"=>"800", "sale_text"=>"new sale", "sold_out"=>"true", "under_sale"=>"true"}}
Unpermitted parameter: :product
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering variants/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered variants/new.html.erb within layouts/application (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by VariantsController#create as HTML
  Parameters: {"variant"=>{"name"=>"Var2", "price"=>"1000", "product"=>"productx-6e870e7a-c88a-4f4c-acf4-0482d7a18635", "sale_price"=>"800", "sale_text"=>"new sale", "sold_out"=>"true", "under_sale"=>"true"}}
Unpermitted parameter: :product
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering variants/new.html.erb within layouts/application
  Rendered variants/new.html.erb within layouts/application (0.1ms)
Completed 200 OK in 3ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[36mVariant Load (0.2ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" ORDER BY "variants"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 451], ["name", "Prod"], ["slug_url", "prod-20cd819f-672d-429c-b12c-c491b2bef758"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.3ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 291], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 452], ["name", "Prod"], ["slug_url", "prod-e01373ee-753b-4689-8d88-7d0a605e5112"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "productx"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "productx"], ["slug_url", "productx-fbfbe08c-94ca-40a9-99af-0401354e32fd"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"454"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "454"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 454], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 454]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 57ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat1", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat1"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat1"], ["slug_url", "cat1"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat1
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat2", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat2"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat2"], ["slug_url", "cat2"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat2
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 457], ["name", "Prod"], ["slug_url", "prod-dd5440cc-51b2-447c-b53f-c55d31570c7e"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"294"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "294"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 294], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 457], ["LIMIT", 1]]
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 294]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 38ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 458], ["name", "Prod"], ["slug_url", "prod-f68ee2a0-8aa3-4210-b149-da1eb494e96f"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 295], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"124"}
  [1m[36mVariant Load (0.3ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 295], ["LIMIT", 1]]
  [1m[36mVariant Update (0.4ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 124]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 38ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
Processing by VariantsController#create as HTML
  Parameters: {"variant"=>{"name"=>"Var1", "price"=>"1000", "product"=>"productx-fbfbe08c-94ca-40a9-99af-0401354e32fd", "sale_price"=>"800", "sale_text"=>"new sale", "sold_out"=>"false", "under_sale"=>"true"}}
Unpermitted parameter: :product
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering variants/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered variants/new.html.erb within layouts/application (0.3ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 10ms (Views: 7.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by VariantsController#create as HTML
  Parameters: {"variant"=>{"name"=>"Var2", "price"=>"1000", "product"=>"productx-fbfbe08c-94ca-40a9-99af-0401354e32fd", "sale_price"=>"800", "sale_text"=>"new sale", "sold_out"=>"false", "under_sale"=>"true"}}
Unpermitted parameter: :product
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering variants/new.html.erb within layouts/application
  Rendered variants/new.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.3ms)
  [1m[36mVariant Load (0.4ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" ORDER BY "variants"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 459], ["name", "Prod"], ["slug_url", "prod-0a9635ea-9fb3-411e-aadb-b574f4f6c5c0"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.3ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 296], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 460], ["name", "Prod"], ["slug_url", "prod-6b5f8191-86c3-407b-bb2e-b49fada485fb"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"462"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "462"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 462], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 462]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 57ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat1", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat1"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat1"], ["slug_url", "cat1"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat1
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat2", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat2"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat2"], ["slug_url", "cat2"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat2
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 465], ["name", "Prod"], ["slug_url", "prod-dade4c15-efae-453f-8f99-7b2e644eac69"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"298"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "298"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 298], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 465], ["LIMIT", 1]]
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 298]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 43ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 466], ["name", "Prod"], ["slug_url", "prod-fa6be446-8bd5-43c2-8fba-52e2a8366a98"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 299], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"126"}
  [1m[36mVariant Load (0.2ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 126], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 299], ["LIMIT", 1]]
  [1m[36mVariant Update (0.4ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 126]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 38ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
Processing by VariantsController#create as HTML
  Parameters: {"variant"=>{"name"=>"Var1", "price"=>"1000", "sale_price"=>"800", "sale_text"=>"new sale", "sold_out"=>"false", "under_sale"=>"true"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering variants/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered variants/new.html.erb within layouts/application (0.2ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 11ms (Views: 9.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by VariantsController#create as HTML
  Parameters: {"variant"=>{"name"=>"Var2", "price"=>"1000", "sale_price"=>"800", "sale_text"=>"new sale", "sold_out"=>"false", "under_sale"=>"true"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering variants/new.html.erb within layouts/application
  Rendered variants/new.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[36mVariant Load (0.2ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" ORDER BY "variants"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 467], ["name", "Prod"], ["slug_url", "prod-802b317f-1499-49bc-995e-8f1f101bd31e"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.3ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 300], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 468], ["name", "Prod"], ["slug_url", "prod-a72bdcdf-b238-4f93-954f-188d83899364"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"470"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "470"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 470], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 470]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 57ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat1", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat1"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat1"], ["slug_url", "cat1"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat1
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat2", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat2"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat2"], ["slug_url", "cat2"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat2
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 473], ["name", "Prod"], ["slug_url", "prod-e68ae72a-abc2-4083-a8d2-c4d3862e2705"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"302"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "302"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 302], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 473], ["LIMIT", 1]]
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 302]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 44ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 474], ["name", "Prod"], ["slug_url", "prod-8bd04a71-ccb2-4bdc-b197-168a65008b07"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 303], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"128"}
  [1m[36mVariant Load (0.2ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 128], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 303], ["LIMIT", 1]]
  [1m[36mVariant Update (0.3ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 128]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 40ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
Processing by VariantsController#create as HTML
  Parameters: {"variant"=>{"name"=>"Var1", "price"=>"1000", "sale_price"=>"800", "sale_text"=>"new sale", "sold_out"=>"false", "under_sale"=>"true"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by VariantsController#create as HTML
  Parameters: {"variant"=>{"name"=>"Var2", "price"=>"1000", "sale_price"=>"800", "sale_text"=>"new sale", "sold_out"=>"false", "under_sale"=>"true"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (1.0ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 475], ["name", "Prod"], ["slug_url", "prod-0893f1be-9539-4543-8ea4-5497956e6a1b"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.4ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 304], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 476], ["name", "Prod"], ["slug_url", "prod-9fd0cfdb-6901-486b-8473-7bf2bd0fcfd0"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"478"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "478"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 478], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 478]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 63ms (ActiveRecord: 1.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat1", "state"=>"public"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat1"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat1"], ["slug_url", "cat1"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat1
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat2", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat2"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat2"], ["slug_url", "cat2"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat2
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (1.0ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 481], ["name", "Prod"], ["slug_url", "prod-7407e63c-94ef-4bb1-a71a-4b4ce2ded143"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"306"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "306"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 306], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 481], ["LIMIT", 1]]
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 306]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 47ms (ActiveRecord: 2.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 482], ["name", "Prod"], ["slug_url", "prod-c36c8b1d-2f8f-49e0-9b6b-874401c1c1d3"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (1.1ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 307], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"130"}
  [1m[36mVariant Load (0.3ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 307], ["LIMIT", 1]]
  [1m[36mVariant Update (0.3ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 130]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 42ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
Processing by VariantsController#create as HTML
  Parameters: {"variant"=>{"name"=>"Var1", "price"=>"1000", "sale_price"=>"800", "sale_text"=>"new sale", "sold_out"=>"false", "under_sale"=>"true"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering variants/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered variants/new.html.erb within layouts/application (0.3ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 13ms (Views: 9.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by VariantsController#create as HTML
  Parameters: {"variant"=>{"name"=>"Var2", "price"=>"1000", "sale_price"=>"800", "sale_text"=>"new sale", "sold_out"=>"false", "under_sale"=>"true"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering variants/new.html.erb within layouts/application
  Rendered variants/new.html.erb within layouts/application (0.0ms)
Completed 200 OK in 3ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[36mVariant Load (0.2ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" ORDER BY "variants"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 483], ["name", "Prod"], ["slug_url", "prod-41003243-dce8-45d0-a3cc-d77ace87bd74"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 308], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 484], ["name", "Prod"], ["slug_url", "prod-a2c3b3f3-c4ee-45bc-9b68-5c7523473853"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"486"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "486"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 486], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 486]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 61ms (ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat1", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat1"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat1"], ["slug_url", "cat1"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat1
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat2", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat2"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat2"], ["slug_url", "cat2"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat2
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 489], ["name", "Prod"], ["slug_url", "prod-63a0ae3a-f2f2-4109-b548-caa2149e3747"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"310"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "310"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 310], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 489], ["LIMIT", 1]]
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 310]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 36ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 490], ["name", "Prod"], ["slug_url", "prod-386de7ff-732d-4ceb-8a2e-a33db8efc3cc"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 311], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"132"}
  [1m[36mVariant Load (0.2ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 132], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 311], ["LIMIT", 1]]
  [1m[36mVariant Update (0.3ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 132]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 37ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
Processing by VariantsController#create as HTML
  Parameters: {"variant"=>{"name"=>"Var1", "price"=>"1000", "sale_price"=>"800", "sale_text"=>"new sale", "sold_out"=>"false", "under_sale"=>"true"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering variants/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered variants/new.html.erb within layouts/application (0.2ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by VariantsController#create as HTML
  Parameters: {"variant"=>{"name"=>"Var2", "price"=>"1000", "sale_price"=>"800", "sale_text"=>"new sale", "sold_out"=>"false", "under_sale"=>"true"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering variants/new.html.erb within layouts/application
  Rendered variants/new.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[36mVariant Load (0.2ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" ORDER BY "variants"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 491], ["name", "Prod"], ["slug_url", "prod-fa582bdd-e1cc-4983-b9bc-9041111abec2"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 312], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 492], ["name", "Prod"], ["slug_url", "prod-70ecb419-b88b-4f80-8f75-cbda83557bd7"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"494"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "494"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 494], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 494]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 63ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat1", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat1"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat1"], ["slug_url", "cat1"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat1
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat2", "state"=>"public"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat2"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat2"], ["slug_url", "cat2"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat2
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 497], ["name", "Prod"], ["slug_url", "prod-f11132d1-8422-4606-bc80-00090bf89f8a"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"314"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "314"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 314], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 497], ["LIMIT", 1]]
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 314]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 40ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"description"=>"testProd", "name"=>"Prod1", "state"=>"public"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod1"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering products/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered products/new.html.erb within layouts/application (0.3ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 13ms (Views: 9.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"description"=>"testProd", "name"=>"Prod2", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod2"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (0.1ms)
Completed 200 OK in 4ms (Views: 0.6ms | ActiveRecord: 0.9ms)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 498], ["name", "Prod"], ["slug_url", "prod-fb90bd33-c173-4f99-8a54-20ddba7bd26a"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.8ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 315], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"134"}
  [1m[36mVariant Load (0.2ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 134], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 315], ["LIMIT", 1]]
  [1m[36mVariant Update (0.3ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 134]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 37ms (ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
Processing by VariantsController#create as HTML
  Parameters: {"variant"=>{"name"=>"Var1", "price"=>"1000", "sale_price"=>"800", "sale_text"=>"new sale", "sold_out"=>"false", "under_sale"=>"true"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering variants/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered variants/new.html.erb within layouts/application (0.2ms)
Completed 200 OK in 7ms (Views: 4.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by VariantsController#create as HTML
  Parameters: {"variant"=>{"name"=>"Var2", "price"=>"1000", "sale_price"=>"800", "sale_text"=>"new sale", "sold_out"=>"false", "under_sale"=>"true"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering variants/new.html.erb within layouts/application
  Rendered variants/new.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[36mVariant Load (0.2ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" ORDER BY "variants"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 499], ["name", "Prod"], ["slug_url", "prod-a9037777-0c1e-413f-a1b6-4e62a91f4fe3"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.3ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 316], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 500], ["name", "Prod"], ["slug_url", "prod-a8a405e0-c220-49da-bb76-b08f04f9d5d2"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat1"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat1"], ["slug_url", "cat1"], ["state", "public"]]
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat2"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat2"], ["slug_url", "cat2"], ["state", "public"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod1"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 502], ["name", "Prod1"], ["slug_url", "prod1"], ["description", "testProd"], ["state", "public"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"504"}
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "504"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 504], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 504]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 61ms (ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat3", "state"=>"public"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat3"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat3"], ["slug_url", "cat3"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat3
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat4", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat4"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat4"], ["slug_url", "cat4"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat4
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 507], ["name", "Prod"], ["slug_url", "prod-57bb19df-f673-48eb-ae2d-ef3d9371f201"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"319"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "319"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 319], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 507], ["LIMIT", 1]]
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 319]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 42ms (ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"description"=>"testProd", "name"=>"Prod2", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod2"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering products/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered products/new.html.erb within layouts/application (0.3ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 13ms (Views: 9.8ms | ActiveRecord: 0.5ms)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 508], ["name", "Prod"], ["slug_url", "prod-4dd2fe95-534b-4045-afb0-bf5290b4e045"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 320], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"136"}
  [1m[36mVariant Load (0.8ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 136], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 320], ["LIMIT", 1]]
  [1m[36mVariant Update (0.3ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 136]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 37ms (ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
Processing by VariantsController#create as HTML
  Parameters: {"variant"=>{"name"=>"Var1", "price"=>"1000", "sale_price"=>"800", "sale_text"=>"new sale", "sold_out"=>"false", "under_sale"=>"true"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering variants/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered variants/new.html.erb within layouts/application (0.2ms)
Completed 200 OK in 7ms (Views: 5.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by VariantsController#create as HTML
  Parameters: {"variant"=>{"name"=>"Var2", "price"=>"1000", "sale_price"=>"800", "sale_text"=>"new sale", "sold_out"=>"false", "under_sale"=>"true"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering variants/new.html.erb within layouts/application
  Rendered variants/new.html.erb within layouts/application (0.1ms)
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[36mVariant Load (0.2ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" ORDER BY "variants"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 509], ["name", "Prod"], ["slug_url", "prod-9ad87cf2-be85-492d-9df5-2c4bd6f76418"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.3ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 321], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 510], ["name", "Prod"], ["slug_url", "prod-8fe33f40-161e-4f25-b941-c6026194378d"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat1"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat1"], ["slug_url", "cat1-e6a02c62-4723-45b1-94e0-8c569fcecc50"], ["state", "public"]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat2"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat2"], ["slug_url", "cat2-687ee569-dcee-4e67-99dd-7aad409c2225"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod1"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 512], ["name", "Prod1"], ["slug_url", "prod1-1024de7f-f760-44d7-b647-1991926dc82b"], ["description", "testProd"], ["state", "public"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"514"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "514"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 514], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 514]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 59ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat3", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat3"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat3"], ["slug_url", "cat3"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat3
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat4", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat4"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat4"], ["slug_url", "cat4"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat4
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 517], ["name", "Prod"], ["slug_url", "prod-427189aa-90bd-490e-893e-b01797c30c41"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"324"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "324"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 324], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 517], ["LIMIT", 1]]
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 324]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 38ms (ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"description"=>"testProd", "name"=>"Prod2", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod2"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering products/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered products/new.html.erb within layouts/application (0.3ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 9ms (Views: 6.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"description"=>"testProd", "name"=>"Prod3", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod3"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (0.0ms)
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.5ms)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 518], ["name", "Prod"], ["slug_url", "prod-d2d5cfde-d83a-4f43-83fe-6d3065bcfd5a"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 325], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"138"}
  [1m[36mVariant Load (0.3ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 138], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 325], ["LIMIT", 1]]
  [1m[36mVariant Update (0.3ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 138]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 37ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
Processing by VariantsController#create as HTML
  Parameters: {"variant"=>{"name"=>"Var1", "price"=>"1000", "sale_price"=>"800", "sale_text"=>"new sale", "sold_out"=>"false", "under_sale"=>"true"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering variants/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered variants/new.html.erb within layouts/application (0.3ms)
Completed 200 OK in 6ms (Views: 3.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by VariantsController#create as HTML
  Parameters: {"variant"=>{"name"=>"Var2", "price"=>"1000", "sale_price"=>"800", "sale_text"=>"new sale", "sold_out"=>"false", "under_sale"=>"true"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering variants/new.html.erb within layouts/application
  Rendered variants/new.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[36mVariant Load (0.2ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" ORDER BY "variants"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 519], ["name", "Prod"], ["slug_url", "prod-134e16a1-3cc9-44eb-a200-abe564d46fe8"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.4ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 326], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 520], ["name", "Prod"], ["slug_url", "prod-bed85c67-adf8-4f1b-a800-fa13c7e3f8fa"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat1"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat1"], ["slug_url", "cat1-aca45294-2a54-4105-9521-9119ebb9f54f"], ["state", "public"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat2"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat2"], ["slug_url", "cat2-ca89d4bc-b682-4ffd-b82d-0c056fcb1d20"], ["state", "public"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod1"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 522], ["name", "Prod1"], ["slug_url", "prod1-e1f1bb0b-aac7-48be-ad2b-35331af67f9d"], ["description", "testProd"], ["state", "public"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"524"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "524"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 524], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 524]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 56ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat3", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat3"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat3"], ["slug_url", "cat3"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat3
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat4", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat4"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat4"], ["slug_url", "cat4"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat4
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 527], ["name", "Prod"], ["slug_url", "prod-347408ff-b5c4-4e83-9250-7c27f1b1f589"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"329"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "329"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 329], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 527], ["LIMIT", 1]]
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 329]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 40ms (ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"description"=>"testProd", "name"=>"Prod2", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod2"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering products/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered products/new.html.erb within layouts/application (0.2ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 12ms (Views: 8.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"description"=>"testProd", "name"=>"Prod3", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod3"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering products/new.html.erb within layouts/application
  Rendered products/new.html.erb within layouts/application (0.1ms)
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.5ms)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 528], ["name", "Prod"], ["slug_url", "prod-4ee87433-a584-4946-8d45-69fc8dfb8d2c"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 330], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"140"}
  [1m[36mVariant Load (0.2ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 140], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 330], ["LIMIT", 1]]
  [1m[36mVariant Update (0.3ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 140]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 41ms (ActiveRecord: 1.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 529], ["name", "Prod"], ["slug_url", "prod-c7a1078a-f415-4fa1-979c-3ee8a233b198"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.3ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 331], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 530], ["name", "Prod"], ["slug_url", "prod-3f360827-fbbf-46ed-b6d0-9e88582d34cd"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat1"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat1"], ["slug_url", "cat1-98584db2-875f-4f01-9917-667f5a26658d"], ["state", "public"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat2"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat2"], ["slug_url", "cat2-a20a4a82-d663-47f4-b409-848e28ccc5b2"], ["state", "public"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod1"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 532], ["name", "Prod1"], ["slug_url", "prod1-de2a7669-830b-4d7c-851a-c892c02fd16d"], ["description", "testProd"], ["state", "public"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"534"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "534"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 534], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 534]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 58ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat3", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat3"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat3"], ["slug_url", "cat3"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat3
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat4", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat4"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat4"], ["slug_url", "cat4"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat4
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 537], ["name", "Prod"], ["slug_url", "prod-62bf83ba-046b-47a1-8be5-e5f8e835b1d8"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"334"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "334"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 334], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 537], ["LIMIT", 1]]
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 334]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 42ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"category_id"=>"532", "description"=>"testProd", "id"=>"333", "name"=>"Prod1", "slug_url"=>"prod1-de2a7669-830b-4d7c-851a-c892c02fd16d", "state"=>"public"}}
Unpermitted parameters: :id, :slug_url
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod1"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 532], ["LIMIT", 1]]
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 532], ["name", "Prod1"], ["slug_url", "prod1-78afaac0-ab2c-4488-b01c-6d546c13f82a"], ["description", "testProd"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products/prod1-78afaac0-ab2c-4488-b01c-6d546c13f82a
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"category_id"=>"532", "description"=>"testProd", "id"=>"333", "name"=>"Prod1", "slug_url"=>"prod1-de2a7669-830b-4d7c-851a-c892c02fd16d", "state"=>"public"}}
Unpermitted parameters: :id, :slug_url
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod1"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 532], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 532], ["name", "Prod1"], ["slug_url", "prod1-957b9da2-e223-4f4d-8405-4741675f4566"], ["description", "testProd"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products/prod1-957b9da2-e223-4f4d-8405-4741675f4566
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 538], ["name", "Prod"], ["slug_url", "prod-fac31b14-47d8-4421-9d0e-1dfbc608bfe6"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 337], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"142"}
  [1m[36mVariant Load (0.3ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 142], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 337], ["LIMIT", 1]]
  [1m[36mVariant Update (0.3ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 142]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 36ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 539], ["name", "Prod"], ["slug_url", "prod-0948d72a-63a1-478f-bbed-be365b682186"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.3ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 338], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 540], ["name", "Prod"], ["slug_url", "prod-b0723fd2-32ab-4d9d-b44b-c8204b159bea"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat1"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat1"], ["slug_url", "cat1-63cfb197-a328-4351-9e46-b523dbe21b1b"], ["state", "public"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat2"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat2"], ["slug_url", "cat2-f6512ac5-5d14-428f-a51e-571d31061095"], ["state", "public"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod1"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 542], ["name", "Prod1"], ["slug_url", "prod1-38a2489b-fbae-4549-980d-da6ae9fbbfe7"], ["description", "testProd"], ["state", "public"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat3"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat3"], ["slug_url", "cat3"], ["state", "public"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat4"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat4"], ["slug_url", "cat4"], ["state", "public"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod2"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 544], ["name", "Prod2"], ["slug_url", "prod2"], ["description", "testProd"], ["state", "public"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat1"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat1"], ["slug_url", "cat1-70a8364e-e7ce-4b7f-bd28-dc550029c575"], ["state", "public"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat2"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat2"], ["slug_url", "cat2-26a4532c-090c-4e10-a382-5fa0a53e2504"], ["state", "public"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod1"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 546], ["name", "Prod1"], ["slug_url", "prod1-83581aa0-05d2-4ac7-8b63-e257daacc1fc"], ["description", "testProd"], ["state", "public"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat3"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat3"], ["slug_url", "cat3-f9a3a99b-9b72-4bab-bb63-0d281f543e63"], ["state", "public"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat4"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat4"], ["slug_url", "cat4-31d7a24d-a2a6-4771-8f57-82c29169d23c"], ["state", "public"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod2"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 548], ["name", "Prod2"], ["slug_url", "prod2-e8a6e8c1-3d7c-4949-b549-7d6d150db984"], ["description", "testProd"], ["state", "public"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat5"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat5"], ["slug_url", "cat5"], ["state", "public"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod3"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 549], ["name", "Prod3"], ["slug_url", "prod3"], ["description", "testProd"], ["state", "public"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVariant Create (0.6ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price", "sale_text") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["product_id", 344], ["name", "Var1"], ["sold_out", false], ["under_sale", true], ["price", 1000], ["sale_price", 800], ["sale_text", "new sale"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Test Cat"], ["slug_url", "test-cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"label"=>"new title"}, "id"=>"551"}
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."slug_url" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["slug_url", "551"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 551], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "label" = $1 WHERE "categories"."id" = $2[0m  [["label", "new title"], ["id", 551]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for CategoriesController#update, rendering head :no_content
Completed 204 No Content in 59ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat6", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat6"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat6"], ["slug_url", "cat6"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat6
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"label"=>"Cat7", "state"=>"public"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat7"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat7"], ["slug_url", "cat7"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/cat7
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 554], ["name", "Prod"], ["slug_url", "prod-c195e684-d67d-4c1b-bf00-dd9cefdb7107"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"new title"}, "id"=>"345"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."slug_url" = $1 ORDER BY "products"."id" ASC LIMIT $2[0m  [["slug_url", "345"], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 345], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 554], ["LIMIT", 1]]
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE "products" SET "name" = $1 WHERE "products"."id" = $2[0m  [["name", "new title"], ["id", 345]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for ProductsController#update, rendering head :no_content
Completed 204 No Content in 40ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"category_id"=>"546", "description"=>"testProd", "id"=>"342", "name"=>"Prod1", "slug_url"=>"prod1-83581aa0-05d2-4ac7-8b63-e257daacc1fc", "state"=>"public"}}
Unpermitted parameters: :id, :slug_url
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod1"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 546], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 546], ["name", "Prod1"], ["slug_url", "prod1-6463d1d3-9e05-46d6-a3d1-c7feb22cc4e5"], ["description", "testProd"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products/prod1-6463d1d3-9e05-46d6-a3d1-c7feb22cc4e5
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"category_id"=>"546", "description"=>"testProd", "id"=>"342", "name"=>"Prod1", "slug_url"=>"prod1-83581aa0-05d2-4ac7-8b63-e257daacc1fc", "state"=>"public"}}
Unpermitted parameters: :id, :slug_url
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod1"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 546], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 546], ["name", "Prod1"], ["slug_url", "prod1-a03885c9-cee0-4a79-96c3-99c9893504db"], ["description", "testProd"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products/prod1-a03885c9-cee0-4a79-96c3-99c9893504db
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 555], ["name", "Prod"], ["slug_url", "prod-787d60f4-5707-45df-8b8a-100892fdab0f"], ["description", "Hi"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.5ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 348], ["name", "Var"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VariantsController#update as HTML
  Parameters: {"variant"=>{"name"=>"new title"}, "id"=>"145"}
  [1m[36mVariant Load (0.2ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" WHERE "variants"."id" = $1 LIMIT $2[0m  [["id", 145], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 348], ["LIMIT", 1]]
  [1m[36mVariant Update (0.3ms)[0m  [1m[33mUPDATE "variants" SET "name" = $1 WHERE "variants"."id" = $2[0m  [["name", "new title"], ["id", 145]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for VariantsController#update, rendering head :no_content
Completed 204 No Content in 39ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
Processing by VariantsController#create as HTML
  Parameters: {"variant"=>{"id"=>"144", "name"=>"Var1", "price"=>"1000", "product_id"=>"344", "sale_price"=>"800", "sale_text"=>"new sale", "sold_out"=>"false", "under_sale"=>"true"}}
Unpermitted parameter: :id
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 344], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.3ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price", "sale_text") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["product_id", 344], ["name", "Var1"], ["sold_out", false], ["under_sale", true], ["price", 1000], ["sale_price", 800], ["sale_text", "new sale"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/variants/146
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "variants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by VariantsController#create as HTML
  Parameters: {"variant"=>{"id"=>"144", "name"=>"Var1", "price"=>"1000", "product_id"=>"344", "sale_price"=>"800", "sale_text"=>"new sale", "sold_out"=>"false", "under_sale"=>"true"}}
Unpermitted parameter: :id
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 344], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.3ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price", "sale_text") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["product_id", 344], ["name", "Var1"], ["sold_out", false], ["under_sale", true], ["price", 1000], ["sale_price", 800], ["sale_text", "new sale"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/variants/147
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[36mVariant Load (0.2ms)[0m  [1m[34mSELECT  "variants".* FROM "variants" ORDER BY "variants"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "test-product"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 556], ["name", "Prod"], ["slug_url", "prod-ea6dd644-daf3-4f68-ab13-1f79edd3d307"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVariant Create (0.3ms)[0m  [1m[32mINSERT INTO "variants" ("product_id", "name", "sold_out", "under_sale", "price", "sale_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["product_id", 349], ["name", "newVariant"], ["sold_out", false], ["under_sale", true], ["price", 400], ["sale_price", 300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" IS NOT NULL AND "categories"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "cat"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("label", "slug_url", "state") VALUES ($1, $2, $3) RETURNING "id"[0m  [["label", "Cat"], ["slug_url", "cat"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" WHERE "products"."id" IS NOT NULL AND "products"."slug_url" = $1 LIMIT $2[0m  [["slug_url", "prod"], ["LIMIT", 1]]
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("category_id", "name", "slug_url", "description", "state") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["category_id", 557], ["name", "Prod"], ["slug_url", "prod-a76288be-168c-4c59-9554-84ede030d577"], ["description", "test"], ["state", "public"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
